<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CWG Auction Room1</title>
  <style>
    :root{
      --bg:#0b0f1a;
      --panel:#12172a;
      --panel2:#0f1426;
      --line:#232a45;
      --text:#e7ebff;
      --muted:#9aa4c7;
      --accent:#7aa2ff;
      --good:#62e7a7;
      --warn:#ffcc66;
      --bad:#ff8a8a;
    }
    *{box-sizing:border-box;}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:system-ui, -apple-system, Segoe UI, Roboto, "Pretendard", sans-serif;
    }

    .page{
      height:100vh; display:grid;
      grid-template-columns: 1.35fr 1.1fr 0.95fr;
      gap:12px; padding:12px;
    }

    /* ===== Panels ===== */
    .panel{
      background:var(--panel); border:1px solid var(--line);
      border-radius:14px; padding:12px; overflow:hidden;
      display:flex; flex-direction:column; min-height:0;
    }
    .panel-header{
      display:flex; align-items:center; justify-content:space-between;
      padding:6px 4px 10px 4px; border-bottom:1px solid var(--line);
      margin-bottom:8px;
    }
    .title{
      font-size:18px; font-weight:800; letter-spacing:.2px;
      display:flex; align-items:center; gap:8px;
    }
    .dot{width:10px;height:10px;border-radius:50%;background:#555;}
    .dot.bidding{background:var(--warn); box-shadow:0 0 8px var(--warn);}
    .dot.finished{background:var(--bad); box-shadow:0 0 8px var(--bad);}

    .badge{
      font-size:12px; color:#cdd5f5; background:#1a2140;
      padding:4px 8px; border-radius:999px; border:1px solid var(--line);
      font-weight:700;
    }

    /* ===== Left: Teams ===== */
    .teams-wrap{
      gap:10px; display:flex; flex-direction:column; min-height:0;
      overflow:auto; padding-bottom:6px;
    }
    .team-card{
      background:var(--panel2); border:2px solid var(--line);
      border-radius:14px; padding:10px; position:relative;
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.02);
    }
    .team-card::before{
      content:""; position:absolute; inset:0; border-radius:12px;
      border:2px solid var(--team-color, var(--accent));
      pointer-events:none; opacity:.6;
    }
    .team-header{
      display:flex; align-items:center; justify-content:space-between;
      margin-bottom:8px; font-weight:800;
    }
    .team-name{font-size:15px;}
    .team-points{font-size:13px; color:var(--muted);}

    .team-row{
      display:grid; grid-template-columns: repeat(5,1fr); gap:6px;
    }
    .slot{
      background:#0c1122; border:1px dashed #2a3258;
      border-radius:10px; padding:6px;
      min-height:100px; display:flex; flex-direction:column; align-items:center; justify-content:center;
      position:relative; gap:6px;
    }
    .slot img{
      width:58px; height:58px; object-fit:cover; border-radius:8px;
      border:1px solid #2a3258; background:#000;
    }
    .slot-text{ text-align:center; line-height:1.15; }
    .slot-name{ font-size:13px; font-weight:800; }
    .slot-price{ font-size:11px; color:var(--muted); font-weight:700; margin-top:2px;}
    .slot-label{ display:none; }
    .slot.empty{ opacity:.45; }

    /* ✅ TEAM ROSTER 아래 로고 영역 */
    .left-logo-area{
      margin-top:8px;
      display:flex; justify-content:center; align-items:center;
      background:transparent; border:none; padding:6px 0 0 0;
      flex-shrink:0;
    }
    .left-logo-area img{
      max-width:88%;
      max-height:140px;
      object-fit:contain;
      filter: drop-shadow(0 8px 22px rgba(0,0,0,.55));
      opacity:.95;
    }

    /* ===== Middle: Current Auction ===== */
    .current-wrap{display:flex; flex-direction:column; gap:10px; min-height:0;}
    .current-card{
      background:var(--panel2); border:1px solid var(--line);
      border-radius:14px; padding:12px; display:grid;
      grid-template-columns: 1.1fr 1fr; gap:12px; align-items:center;
    }
    .current-photo{
      width:100%; aspect-ratio: 1 / 1; border-radius:12px; object-fit:cover;
      border:2px solid var(--line); background:#000; max-height:320px;
    }
    .current-info{display:flex; flex-direction:column; gap:6px;}
    .current-name{font-size:22px; font-weight:900;}
    .current-meta{font-size:13px; color:var(--muted); display:grid; grid-template-columns:1fr 1fr; gap:4px;}
    .current-bio{
      font-size:13px; color:#cfd6f3; background:#0c1122;
      border:1px solid var(--line); padding:8px; border-radius:10px; min-height:70px;
      white-space:pre-wrap;
    }
    .status-pill{
      align-self:flex-start; font-size:12px; font-weight:800;
      padding:4px 8px; border-radius:999px; background:#182043; border:1px solid var(--line);
    }

    .time-card{
      background:var(--panel2); border:1px solid var(--line);
      border-radius:14px; padding:12px; display:flex; align-items:center; justify-content:space-between;
    }
    .time-left{display:flex; flex-direction:column; gap:4px;}
    .time-title{font-size:13px; color:var(--muted); font-weight:800;}
    .time-player{font-size:18px; font-weight:900;}
    .time-count{
      font-size:40px; font-weight:900; letter-spacing:1px; color:var(--warn);
    }

    .bid-box{
      background:var(--panel2); border:1px solid var(--line);
      border-radius:14px; padding:10px; display:flex; flex-direction:column; gap:8px;
    }
    .bid-row{display:flex; gap:8px;}
    .bid-row input{
      flex:1; background:#0c1122; border:1px solid var(--line); color:var(--text);
      padding:10px; border-radius:10px; font-size:15px; font-weight:700;
    }
    .bid-row button{
      background:var(--accent); color:#071027; font-weight:900;
      border:none; border-radius:10px; padding:0 16px; cursor:pointer;
    }
    .bid-row button:disabled{opacity:.45; cursor:not-allowed;}
    .bid-stats{font-size:13px; color:var(--muted); display:flex; justify-content:space-between;}

    .log-card{
      background:var(--panel2); border:1px solid var(--line);
      border-radius:14px; padding:10px;
      min-height:180px; flex:1; overflow:auto;
    }
    .log-card .item{
      font-size:13px; padding:4px 0; border-bottom:1px dashed rgba(255,255,255,0.06);
    }

    /* ===== Right: Groups only ===== */
    .right-wrap{gap:10px; display:flex; flex-direction:column; min-height:0;}
    .groups-card{
      background:var(--panel2); border:1px solid var(--line);
      border-radius:14px; padding:10px; flex:1; min-height:0;
      display:grid; grid-template-rows:auto 1fr auto 1fr; gap:8px;
    }
    .group-title{font-size:14px; font-weight:900; color:#dbe2ff; display:flex; align-items:center; gap:6px;}
    .group-grid{
      background:#0c1122; border:1px solid var(--line); border-radius:10px;
      padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(70px,1fr));
      gap:8px; overflow:auto; min-height:0;
    }
    .avatar{
      position:relative; display:flex; flex-direction:column; align-items:center; gap:4px;
    }
    .avatar img{
      width:66px; height:66px; object-fit:cover; border-radius:8px;
      border:2px solid transparent; background:#000;
    }
    .avatar .name-tip{font-size:11px; font-weight:800; text-align:center; max-width:70px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
    .avatar.current img{border-color:var(--warn);}
    .avatar.sold img{opacity:.55;}
    .avatar.sold-by-leader1 img{border-color:#7aa2ff;}
    .avatar.sold-by-leader2 img{border-color:#ff7ad6;}
    .avatar.sold-by-leader3 img{border-color:#62e7a7;}
    .avatar.sold-by-leader4 img{border-color:#ffcc66;}

    /* ===== Controls ===== */
    .controls{display:flex; gap:8px; align-items:center;}
    select{
      background:#0c1122; border:1px solid var(--line); color:var(--text);
      padding:7px 10px; border-radius:10px; font-weight:800;
    }
    .admin-controls{display:none; gap:6px;}
    .admin-controls button{
      background:#222b52; border:1px solid var(--line); color:#dfe6ff;
      padding:6px 10px; border-radius:10px; font-weight:800; cursor:pointer;
    }

    /* ===== Sold Overlay ===== */
    .overlay{
      position:fixed; inset:0; background:rgba(2,4,10,.65);
      display:none; align-items:center; justify-content:center; z-index:9999;
    }
    .overlay.show{display:flex; animation:fadeIn .18s ease;}
    .overlay-card{
      background:#0f1426; border:2px solid var(--line); border-radius:16px;
      padding:18px; min-width:320px; text-align:center;
      box-shadow:0 20px 60px rgba(0,0,0,.6);
      animation:pop .25s ease;
    }
    .overlay-team{font-size:16px; font-weight:900; margin-bottom:10px;}
    .overlay-photo{
      width:160px; height:160px; object-fit:cover; border-radius:14px;
      border:2px solid var(--line); background:#000;
    }
    .overlay-name{font-size:22px; font-weight:900; margin-top:8px;}
    .overlay-price{font-size:16px; font-weight:900; color:var(--warn); margin-top:4px;}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes pop{from{transform:scale(.92)}to{transform:scale(1)}}

    ::-webkit-scrollbar{height:8px;width:8px}
    ::-webkit-scrollbar-thumb{background:#2a3258;border-radius:10px}
    ::-webkit-scrollbar-track{background:transparent}
  </style>
</head>

<body>
  <div class="page">

    <!-- LEFT: TEAM ROSTERS + LOGO BELOW -->
    <section class="panel">
      <div class="panel-header">
        <div class="title">TEAM ROSTER</div>
        <div class="controls">
          <span class="dot" id="room-status-dot"></span>
          <span id="room-status-text" style="font-weight:900;"></span>
          <span class="badge" id="mode-badge">ROOM1 · REAL · A</span>
        </div>
      </div>

      <div class="teams-wrap">
        <div class="team-card" id="team-leader1"></div>
        <div class="team-card" id="team-leader2"></div>
        <div class="team-card" id="team-leader3"></div>
        <div class="team-card" id="team-leader4"></div>
      </div>

      <!-- ✅ 로고 경로: assets/logo 폴더 -->
      <div class="left-logo-area">
        <img src="./assets/logo/cheorwon-esports-logo.png" alt="cheorwon esports logo">
      </div>
    </section>

    <!-- MIDDLE: CURRENT AUCTION -->
    <section class="panel current-wrap">
      <div class="panel-header">
        <div class="title">CURRENT AUCTION</div>
        <div class="controls">
          <select id="role-select">
            <option value="viewer">관전</option>
            <option value="leader1">팀장 1</option>
            <option value="leader2">팀장 2</option>
            <option value="leader3">팀장 3</option>
            <option value="leader4">팀장 4</option>
            <option value="operator">운영자</option>
          </select>

          <div class="admin-controls" id="admin-controls">
            <button id="btn-start-test">테스트 시작</button>
            <button id="btn-start-real">본 경매 시작</button>
            <button id="btn-start-remaining">REMAIN 재경매</button>
            <button id="btn-reset">포인트/전체 리셋</button>
          </div>
        </div>
      </div>

      <div class="current-card">
        <img id="current-player-photo" class="current-photo" alt="current player"/>
        <div class="current-info">
          <div class="current-name" id="current-player-name">-</div>
          <div class="status-pill" id="current-player-status">대기</div>

          <div class="current-meta">
            <div>ROLE: <b id="current-player-role">-</b></div>
            <div>GROUP: <b id="current-player-group">-</b></div>
            <div>BASE: <b id="current-player-base">-</b></div>
            <div></div>
          </div>

          <div class="current-bio" id="current-player-bio">-</div>
        </div>
      </div>

      <div class="time-card">
        <div class="time-left">
          <div class="time-title">현재 경매중</div>
          <div class="time-player" id="timer-player-name">-</div>
        </div>
        <div class="time-count" id="timer">-</div>
      </div>

      <div class="bid-box">
        <div class="bid-row">
          <input id="bid-amount" type="number" placeholder="입찰 금액(5점 단위)" step="5" min="0">
          <button id="bid-button">입찰</button>
        </div>

        <div class="bid-stats">
          <div>최고가: <b id="highest-amount">-</b>점</div>
          <div>최고 입찰: <b id="highest-leader">-</b></div>
        </div>
      </div>

      <div class="log-card" id="bid-log"></div>
    </section>

    <!-- RIGHT: GROUPS ONLY -->
    <section class="panel right-wrap">
      <div class="panel-header">
        <div class="title">GROUP ROSTER</div>
      </div>

      <div class="groups-card">
        <div class="group-title">GROUP A</div>
        <div class="group-grid" id="roster-A"></div>

        <div class="group-title">GROUP B</div>
        <div class="group-grid" id="roster-B"></div>
      </div>
    </section>
  </div>

  <!-- SOLD Overlay -->
  <div class="overlay" id="auction-overlay">
    <div class="overlay-card">
      <div class="overlay-team" id="auction-overlay-team">SOLD</div>
      <img class="overlay-photo" id="auction-overlay-photo" alt="sold player"/>
      <div class="overlay-name" id="auction-overlay-name">-</div>
      <div class="overlay-price" id="auction-overlay-price">-점</div>
    </div>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>
